import json
import numpy as np
from gui import Graphics
from ai import AI

zero_input = """{
    "sudoku": [
        [0,0,0, 0,0,0, 0,0,0],
        [0,0,0, 0,0,0, 0,0,0],
        [0,0,0, 0,0,0, 0,0,0],

        [0,0,0, 0,0,0, 0,0,0],
        [0,0,0, 0,0,0, 0,0,0],
        [0,0,0, 0,0,0, 0,0,0],

        [0,0,0, 0,0,0, 0,0,0],
        [0,0,0, 0,0,0, 0,0,0],
        [0,0,0, 0,0,0, 0,0,0]
    ]
}"""

sample_input = """{
    "sudoku": [
        [1,0,4, 8,6,5, 2,3,7],
        [7,0,5, 4,1,2, 9,6,8],
        [8,0,2, 3,9,7, 1,4,5],

        [9,0,1, 7,4,8, 3,5,6],
        [6,0,8, 5,3,1, 4,2,9],
        [4,0,3, 9,2,6, 8,7,1],

        [3,0,9, 6,5,4, 7,1,2],
        [2,0,6, 1,7,9, 5,8,3],
        [5,0,7, 2,8,3, 6,9,4]
    ]
}"""

easy_input = """{
    "sudoku": [
        [0,0,0, 0,0,1, 4,0,6],
        [0,4,0, 6,0,0, 0,0,0],
        [1,0,6, 0,0,0, 0,5,0],

        [9,0,4, 0,7,6, 5,3,0],
        [0,5,7, 1,0,8, 0,4,0],
        [0,0,0, 0,4,5, 8,0,7],

        [0,0,8, 0,0,4, 0,6,0],
        [4,2,0, 0,6,7, 1,0,5],
        [5,6,1, 8,2,9, 0,0,0]
    ]
}"""

medium_input = """{
    "sudoku": [
        [5,0,0, 0,8,4, 0,0,2],
        [6,0,0, 0,0,0, 0,0,0],
        [0,0,2, 0,1,0, 0,0,0],

        [0,0,0, 0,0,0, 0,1,0],
        [0,5,8, 0,2,9, 0,6,0],
        [0,4,7, 0,0,0, 9,2,8],

        [0,0,0, 8,3,2, 0,0,7],
        [2,0,0, 0,4,0, 3,0,0],
        [0,0,5, 1,9,0, 2,0,4]
    ]
}"""


hard_input = """{
    "sudoku": [
        [0,3,0, 1,0,0, 0,8,4],
        [0,8,0, 0,4,0, 3,9,0],
        [0,6,0, 8,0,0, 0,0,0],

        [0,0,4, 0,0,0, 8,0,0],
        [0,1,3, 0,0,0, 0,7,0],
        [0,0,2, 6,0,0, 5,4,0],

        [0,2,0, 0,0,0, 4,0,5],
        [1,0,0, 0,0,9, 0,0,0],
        [0,0,0, 5,6,1, 9,0,0]
    ]
}"""


evil_input = """{
    "sudoku": [
        [6,5,0, 0,0,0, 4,0,0],
        [0,0,0, 0,0,1, 0,0,0],
        [0,8,0, 2,5,0, 0,0,9],

        [0,0,0, 0,0,7, 0,0,3],
        [0,1,0, 0,0,9, 0,0,0],
        [8,0,0, 1,3,0, 0,6,0],

        [0,0,5, 0,0,0, 0,9,0],
        [0,0,0, 0,7,0, 0,0,0],
        [0,2,0, 3,8,0, 0,0,5]
    ]
}"""


if __name__ == "__main__":
    ai = AI()
    gui = Graphics()

    problem_data = json.loads(hard_input)
    table = np.array(problem_data["sudoku"])

    print("Input table: ")
    gui.display(table)

    res = ai.solve(hard_input)
    res_data = json.loads(res)
    res_table = np.array(res_data["sudoku"])

    print("Solution: ")
    gui.display(res_table)
